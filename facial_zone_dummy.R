source("cleaning_and_code_conversion.R")
library(magrittr)
library(stringr)

## Data cleaning, dummy variables

## Creating otherfacialfracture dummy variable
mmc_data$otherff <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.81XA") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.81XA"), 1, 0)

mmc_data$otherff2 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.82XA") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.82XA"), 1, 0)

mmc_data$otherff3 <- ifelse(startsWith(mmc_data$ICD9.diagnosis.codes.1, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.2, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.3, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.4, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.5, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.6, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.7, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.8, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.9, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.10, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.11, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.12, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.13, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.14, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.15, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.16, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.17, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.18, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.19, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.20, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.21, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.22, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.23, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.24, "802") | startsWith(mmc_data$ICD9.diagnosis.codes.25, "802")|startsWith(mmc_data$ICD9.diagnosis.codes.26, "802"),1,0)


## Creating mandible dummy variable
mmc_data$mandible <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.6") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.6"), 1, 0)

mmc_data$mandible2 <- ifelse(startsWith(mmc_data$ICD9.diagnosis.codes.1, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.2, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.3, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.4, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.5, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.6, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.7, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.8, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.9, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.10, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.11, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.12, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.13, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.14, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.15, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.16, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.17, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.18, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.19, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.20, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.21, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.22, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.23, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.24, "802.21") | startsWith(mmc_data$ICD9.diagnosis.codes.25, "802.21")|startsWith(mmc_data$ICD9.diagnosis.codes.26, "802.21"),1,0)

mmc_data$mandible3 <- ifelse(startsWith(mmc_data$ICD9.diagnosis.codes.1, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.2, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.3, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.4, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.5, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.6, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.7, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.8, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.9, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.10, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.11, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.12, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.13, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.14, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.15, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.16, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.17, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.18, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.19, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.20, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.21, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.22, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.23, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.24, "802.22") | startsWith(mmc_data$ICD9.diagnosis.codes.25, "802.22")|startsWith(mmc_data$ICD9.diagnosis.codes.26, "802.22"),1,0)

mmc_data$mandible4 <- ifelse(startsWith(mmc_data$ICD9.diagnosis.codes.1, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.2, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.3, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.4, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.5, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.6, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.7, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.8, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.9, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.10, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.11, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.12, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.13, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.14, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.15, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.16, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.17, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.18, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.19, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.20, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.21, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.22, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.23, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.24, "802.24") | startsWith(mmc_data$ICD9.diagnosis.codes.25, "802.24")|startsWith(mmc_data$ICD9.diagnosis.codes.26, "802.24"),1,0)

mmc_data$mandible5 <- ifelse(startsWith(mmc_data$ICD9.diagnosis.codes.1, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.2, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.3, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.4, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.5, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.6, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.7, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.8, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.9, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.10, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.11, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.12, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.13, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.14, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.15, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.16, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.17, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.18, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.19, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.20, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.21, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.22, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.23, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.24, "802.28") | startsWith(mmc_data$ICD9.diagnosis.codes.25, "802.28")|startsWith(mmc_data$ICD9.diagnosis.codes.26, "802.28"),1,0)

mmc_data$mandible6 <- ifelse(startsWith(mmc_data$ICD9.diagnosis.codes.1, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.2, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.3, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.4, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.5, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.6, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.7, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.8, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.9, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.10, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.11, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.12, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.13, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.14, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.15, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.16, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.17, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.18, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.19, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.20, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.21, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.22, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.23, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.24, "802.38") | startsWith(mmc_data$ICD9.diagnosis.codes.25, "802.38")|startsWith(mmc_data$ICD9.diagnosis.codes.26, "802.38"),1,0)


## Creating superior dummy variable
mmc_data$superior <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.19") | startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.12") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.12"), 1, 0)

## Creating midface dummy variable for first two ICD10 codes
mmc_data$midface <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.2") | startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.3") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.3"), 1, 0)

## Creating midface dummy varaible for final ICD10 code
mmc_data$midface2 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.4") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.4"), 1, 0)

mmc_data$midface3 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.831A") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.831A"), 1, 0)

mmc_data$midface4 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.841A") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.841A"), 1, 0)

mmc_data$midface5 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "SO2.85XA") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "SO2.85XA"), 1, 0)

mmc_data$midface6 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.832A") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.832A"), 1, 0)

mmc_data$midface7 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.609A") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.609A"), 1, 0)

mmc_data$midface8 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.400A") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.400A"), 1, 0)

mmc_data$midface9 <- ifelse(startsWith(mmc_data$ICD10.diagnosis.codes.1, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.2, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.3, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.4, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.5, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.6, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.7, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.8, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.9, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.10, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.11, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.12, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.13, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.14, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.15, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.16, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.17, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.18, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.19, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.20, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.21, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.22, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.23, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.24, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.25, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.26, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.27, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.28, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.29, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.30, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.31, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.32, "S02.42XA") | startsWith(mmc_data$ICD10.diagnosis.codes.33, "S02.42XA"), 1, 0)

mmc_data$midface10 <- ifelse(startsWith(mmc_data$ICD9.diagnosis.codes.1, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.2, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.3, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.4, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.5, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.6, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.7, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.8, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.9, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.10, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.11, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.12, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.13, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.14, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.15, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.16, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.17, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.18, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.19, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.20, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.21, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.22, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.23, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.24, "802.1") | startsWith(mmc_data$ICD9.diagnosis.codes.25, "802.1")|startsWith(mmc_data$ICD9.diagnosis.codes.26, "802.1"),1,0)

mmc_data$midface11 <- ifelse(startsWith(mmc_data$ICD9.diagnosis.codes.1, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.2, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.3, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.4, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.5, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.6, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.7, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.8, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.9, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.10, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.11, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.12, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.13, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.14, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.15, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.16, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.17, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.18, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.19, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.20, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.21, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.22, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.23, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.24, "802.6") | startsWith(mmc_data$ICD9.diagnosis.codes.25, "802.6")|startsWith(mmc_data$ICD9.diagnosis.codes.26, "802.6"),1,0)



## Combining other facial fracture dummy variables
mmc_data$otherff.true <- ifelse(mmc_data$otherff == 1 | mmc_data$otherff2 == 1 | mmc_data$otherff3 == 1, 1, 0)



## Combining mandibles dummy variables
mmc_data$mandible.true <- ifelse(mmc_data$mandible == 1 | mmc_data$mandible2 == 1 | mmc_data$mandible3 == 1 | mmc_data$mandible4 == 1 | mmc_data$mandible5 == 1| mmc_data$mandible6 == 1, 1, 0)


## Combining midfaces dummy variables
mmc_data$midface.true <- ifelse(mmc_data$midface == 1 | mmc_data$midface2 == 1 | mmc_data$midface3 == 1 | mmc_data$midface4 == 1 | mmc_data$midface5 == 1| mmc_data$midface6 == 1 | mmc_data$midface7 == 1 | mmc_data$midface8 == 1 | mmc_data$midface9 == 1 | mmc_data$midface10 == 1 |mmc_data$midface11 == 1, 1, 0)

## Removing 
mmc_data <- mmc_data[, -c(264:272, 274:284)]

## Renaming 
names(mmc_data)[names(mmc_data) == 'otherff.true'] <- 'otherff'
names(mmc_data)[names(mmc_data) == 'midface.true'] <- 'midface'
names(mmc_data)[names(mmc_data) == 'mandible.true'] <- 'mandible'


## Reinstering NA values
mmc_data[mmc_data==" "] <- NA

# --------------------

## Creating Injury.Mech.category for column J
mmc_data$Injury.Mech.category <- rep(NA,length(mmc_data$Injury.Mech))
mmc_data %<>% mutate(Injury.Mech = str_trim(mmc_data$Injury.Mech))
mmc_data$Injury.Mech[mmc_data$Injury.Mech==""] <- NA
mmc_data$Injury.Mech[is.na(mmc_data$Injury.Mech)]=0
for (i in 1:length(mmc_data$Injury.Mech)){
  if (str_detect(mmc_data$Injury.Mech[i],"Motorcycle|MVC")==TRUE){mmc_data$Injury.Mech.category[i]="MVC"}
  if (str_detect(mmc_data$Injury.Mech[i],"Fall")==TRUE){mmc_data$Injury.Mech.category[i]="Falls"}
  if (str_detect(mmc_data$Injury.Mech[i],"gun")==TRUE){mmc_data$Injury.Mech.category[i]="Gun"}
  if (str_detect(mmc_data$Injury.Mech[i],"Bicycle")==TRUE){mmc_data$Injury.Mech.category[i]="Bicycle"}
  if (str_detect(mmc_data$Injury.Mech[i],"Other|Assault|Biting|Pedestrian|Unknown|0")==TRUE){mmc_data$Injury.Mech.category[i]="Others"}
  if (str_detect(mmc_data$Injury.Mech[i],"Blunt Mechanism")==TRUE){mmc_data$Injury.Mech.category[i]="Other_Blunt"}
  
}

